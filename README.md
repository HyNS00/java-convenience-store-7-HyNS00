# 편의점
> 구매자의 할인 혜택과 재고 상황을 고려하여 최종 결제 금액을 계산하고
> 안내하는 결제 시스템을 구현한다.

## 주요기능
- **상품의 가격과 수량을 입력받아 프로모션 및 할인을 적용한 최종 결제금액을 산출한다.**
- **구매 내역과 산출한 금액 정보를 영수증으로 출력한다.**
- **각 상품에 대한 정확한 재고를 관리한다.**


## 진행과정
### 1.재고확인
- 현재 재고 현황 조회
- 프로모션 적용 가능 상품 확인
### 2. 상품 선택
- 구매 상품 및 수량 입력
- 프로모션 적용 확인
   - 프로모션 최소 구매 미달 → 추가 구매 여부 확인
   - 프로모션 재고 부족 →  일반 가격 구매 여부 확인
### 3. 할인 적용
- 멤버십 적용 확인
### 4. 결제
- 최종 금액 계산
- 영수증 발행
### 5. 추가 구매
- 추가 구매의사 확인

**※ 잘못된 값을 입력시 에러 메시지 출력 후 재 입력**

<details><summary>실행 결과 예시</summary>

```text
안녕하세요. W편의점입니다.
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 10개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 5개
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개

구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])
[콜라-3],[에너지바-5]

멤버십 할인을 받으시겠습니까? (Y/N)
Y 

==============W 편의점================
상품명		수량	금액
콜라		3 	3,000
에너지바 		5 	10,000
=============증	정===============
콜라		1
====================================
총구매액		8	13,000
행사할인			-1,000
멤버십할인			-3,000
내실돈			 9,000

감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
Y

안녕하세요. W편의점입니다.
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 7개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 재고 없음
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개

구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])
[콜라-10]

현재 콜라 4개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)
Y

멤버십 할인을 받으시겠습니까? (Y/N)
N

==============W 편의점================
상품명		수량	금액
콜라		10 	10,000
=============증	정===============
콜라		2
====================================
총구매액		10	10,000
행사할인			-2,000
멤버십할인			-0
내실돈			 8,000

감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
Y

안녕하세요. W편의점입니다.
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 재고 없음 탄산2+1
- 콜라 1,000원 7개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 재고 없음
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개

구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])
[오렌지주스-1]

현재 오렌지주스은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)
Y

멤버십 할인을 받으시겠습니까? (Y/N)
Y

==============W 편의점================
상품명		수량	금액
오렌지주스		2 	3,600
=============증	정===============
오렌지주스		1
====================================
총구매액		2	3,600
행사할인			-1,800
멤버십할인			-0
내실돈			 1,800

감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
N
```

</details>

## 📌 구현 기능 목록
### 상품
- [x] 이름, 가격, 수량, 프로모션에 대한 정보를 가지고 있다.
### 재고 관리
- [ ] 각 상품의 재고 수량을 확인하여 결제 가능 여부를 확인한다.
- [ ] 구매 시, 결제된 수량만큼 재고를 차감하여 관리한다.
- [ ] 최신 재고 상황을 정확히 관리한다.

### 프로모션 할인
- [ ] 프로모션 기간 내에 포함된 경우에만 할인을 적용한다.
- [ ] 프로모션은 Buy N Get 1 Free 다. _ex)_ 2+1, 1+1
- [ ] 프로모션 혜택은 프로모션 재고 내에서만 가능하다.
- [ ] 프로모션 기간 중이라면, 프로모션 재고를 우선적으로 차감한다.
- [ ] 알림
  - [ ] 프로모션 최소 구매 미달시, 필요 수량 추가 구매를 요구한다.
  - [ ] 프로모션 재고 부족시, 일부 수량은 정가 계산 결제를 알린다.
### 멤버십 할인
- [ ] 프로모션 미적용에 30%를 할인 받는다.
- [ ] 프로모션 적용 후 남는 금액에 할인을 받는다.
- [ ] 최대 한도는 8,000원이다.

### 영수증 출력
- [ ] 영수증의 구성 요소를 보기 좋게 정렬하여 출력한다.
- [ ] 아래의 내용이 포함되어야 한다.
  - [ ] 구매 상품
  - [ ] 증정 상품 내역
  - [ ] 금액 정보
    - [ ] 총 구매액
    - [ ] 행사 할인 금액
    - [ ] 멤버십 할인 금액
    - [ ] 최종 결제 금액

### 예외 ```IllegalArgumentException```
- [ ] 구매할 상품과 수량 형식이 올바르지 않는 경우
- [ ] 존재하지 않는 상품을 입력한 경우
- [ ] 구매 수량이 재고 수량을 초과한 경우
- [ ] 기타 잘못된 입력의 경우

### 유틸
- [x] 문자열을 각 자료형으로 변환해주는 유틸리티
  - [x] 문자열을 숫자로 변환한다.
  - [x] 문자열을 날짜 객체로 변환한다.